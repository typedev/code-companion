# v0.1 Plan: Project and Session List Viewer

## Goal

Create a minimal GTK4/libadwaita application that displays a list of Claude Code projects and their sessions.

## Checkpoints

### Checkpoint 1: Application skeleton
- [x] Create `src/` directory structure
- [x] Implement `Application` class (Adw.Application)
- [x] Implement `MainWindow` class (Adw.ApplicationWindow)
- [x] Verify app launches with empty window

### Checkpoint 2: Data layer
- [x] Implement `path_utils.py` — encode/decode project paths
- [x] Implement `Project` dataclass
- [x] Implement `Session` dataclass
- [x] Implement `HistoryService` — scan `~/.claude/projects/`
- [x] Parse JSONL files to extract: message count, timestamp, first user message

### Checkpoint 3: Project list sidebar
- [x] Create sidebar with `Gtk.ListBox`
- [x] Display projects sorted by last session date
- [x] Show project path (decoded) and session count
- [x] Handle project selection

### Checkpoint 4: Session list
- [x] Display sessions for selected project
- [x] Show: date/time, message count, preview of first message
- [x] Sort by date descending

### Checkpoint 5: Polish
- [x] Add `Adw.NavigationSplitView` layout
- [x] Handle empty states (no projects, no sessions)
- [x] Add basic error handling for malformed JSONL

## File Structure

```
src/
├── __init__.py
├── main.py           # Entry point, Application class
├── window.py         # MainWindow
├── models/
│   ├── __init__.py
│   ├── project.py    # Project dataclass
│   └── session.py    # Session dataclass
├── services/
│   ├── __init__.py
│   └── history.py    # HistoryService
└── utils/
    ├── __init__.py
    └── paths.py      # Path encoding/decoding
```

## Progress

- Started: 2025-12-11
- Current checkpoint: 5 (all complete)
- Status: DONE

### Notes

All checkpoints completed. Run with `uv run python main.py`
